<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns:tls="http://www.mulesoft.org/schema/mule/tls" xmlns:os="http://www.mulesoft.org/schema/mule/os" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation=" http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd  http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/os http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd
http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd">
    <http:listener-config name="messenger-bot-process-api-httpListenerConfig">
        <http:listener-connection host="${listener.https.host}" port="${listener.https.port}" protocol="HTTPS">
			<tls:context >
				<tls:key-store type="jks" path="tls/keystore.jks" alias="mule" keyPassword="${listener.https.tls.keyPassword}" password="${listener.https.tls.password}"/>
			</tls:context>
        </http:listener-connection>
    </http:listener-config>
    <apikit:config name="messenger-bot-process-api-config" api="resource::1b8e9cb7-be60-4e33-b3cc-f5444071fa42:messenger-bot-process-api:1.0.1:raml:zip:messenger-bot-process-api.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
    <import doc:name="common-utils-global.xml" doc:id="a7ff93c2-7e4b-4328-98ba-1385c46609c1" file="common-utils-global.xml" />
    <import doc:name="common-utils-error-handler.xml" doc:id="dd037d66-e0e5-4746-bbca-a04b8028d1a9" file="common-utils-error-handler.xml" />
    <import doc:name="common-utils.xml" doc:id="c1dee0d9-9147-4aaf-ac57-4ac2b527ee81" file="common-utils.xml" />
    <import doc:name="common-utils-logging.xml" doc:id="63f2f6d9-026b-4e91-95af-1237cf83cd20" file="common-utils-logging.xml" />
	<http:request-config name="HTTPS_Request_configuration_to_telegram_system_API" doc:name="HTTP Request configuration" doc:id="029f2660-7fc0-4f07-94a9-696f2713291b" basePath="${telegramSystemAPI.basePath}" >
		<http:request-connection protocol="HTTPS" host="${telegramSystemAPI.host}" port="${telegramSystemAPI.port}" tlsContext="TLS_Context"/>
	</http:request-config>
	<http:request-config name="HTTPS_Request_to_cryptocurrency_system_API_configuration" doc:name="HTTP Request configuration" doc:id="f1c1a5da-8051-4df3-9395-4145bb555add" basePath="${cryptocurrencySystemAPI.basePath}" >
		<http:request-connection protocol="HTTPS" host="${cryptocurrencySystemAPI.host}" port="${cryptocurrencySystemAPI.port}" tlsContext="TLS_Context"/>
	</http:request-config>
	<os:object-store name="objectStoreForCryptocurrencies" doc:name="Object store" doc:id="41508082-5deb-4802-97c3-0776bfb47450" expirationIntervalUnit="HOURS" expirationInterval="2"/>
	<os:object-store name="objectStoreForDays" doc:name="Object store" doc:id="226e63f8-706e-47f7-80c0-efd0807cba58" expirationIntervalUnit="HOURS" expirationInterval="2"/>
	<os:object-store name="objectStoreForHours" doc:name="Object store" doc:id="24f2b3cf-d028-4559-9bf5-64bd2b7c8d82" expirationIntervalUnit="HOURS" expirationInterval="2"/>
	<http:request-config name="HTTP_Request_configuration_to_notification_process_API" doc:name="HTTP Request configuration" doc:id="de36d446-5588-4740-bc04-d62181e12d5f" basePath="${notificationProcessAPI.basePath}">
		<http:request-connection protocol="HTTPS" host="${notificationProcessAPI.host}" port="${notificationProcessAPI.port}" tlsContext="TLS_Context"/>
	</http:request-config>
	<tls:context name="TLS_Context" doc:name="TLS Context" doc:id="3bd2c78f-c607-42bc-97eb-6891e309b7e2" >
		<tls:trust-store path="tls/truststore.jks" password="${listener.https.tls.password}" type="jks" />
		<tls:key-store type="jks" path="tls/keystore.jks" alias="mule" keyPassword="${listener.https.tls.keyPassword}" password="${listener.https.tls.password}" />
	</tls:context>
</mule>
